/*!
  * imgUp 
  * v0.1.0
  * https://github.com/jgallen23/imgup
  * copyright JGA 2012
  * MIT License
  *//*!
  * jquery.framejax 
  * v0.1.1
  * https://github.com/jgallen23/framejax
  * copyright JGA 2012
  * MIT License
  */
!function(a){var b=0,c=function(b){return a('<iframe name="'+b+'" />').attr({id:b,name:b,width:0,height:0}).css("display","none").appendTo("body")};a.fn.framejax=function(d){return this.each(function(){var d=a(this);if(d[0].tagName!="FORM")throw new Error("all selectors must be form tags");var e=function(){var e="__framejax__"+b++,f=c(e);f.on("load",function(){var b=a(this).contents().find("body").html();d.trigger("complete",b),f.remove()}),d.attr("target",e)};d.on("submit",e),d.on("framejaxSubmit",e)})}}(window.jQuery),!function(a){a.fn.imgUp=function(b){return b=a.extend({},a.fn.imgUp.defaults,b),this.each(function(){var c=a(this),d=function(){c.html(b.progressTemplate)},e=function(a){c.html(b.completeTemplate).find("img").attr("src",a)};c.css("cursor","pointer");var f=a("<form/>").attr({action:b.action,method:b.method,enctype:"multipart/form-data"}).appendTo("body"),g=a("<input/>").attr({name:b.postKey,type:"file"}).css({opacity:"0",cursor:"pointer",position:"absolute"}).on("change",function(){c.trigger("fileSelect"),d(),f.submit()}).appendTo(f);f.framejax().on("complete",function(a,b){e(b),c.trigger("complete",b)}),c.on("mousemove",function(a){var b=g.height(),c=g.width();typeof a.pageY=="undefined"&&typeof a.clientX=="number"&&document.documentElement&&(a.pageX=a.clientX+document.documentElement.scrollLeft,a.pageY=a.clientY+document.documentElement.scrollTop),g.css({top:a.pageY-b/2,left:a.pageX-(c-30)})})})},a.fn.imgUp.defaults={action:window.location.href,method:"POST",postKey:"image",progressTemplate:'<div class="progress">Uploading...</div>',completeTemplate:"<img/>"}}(window.jQuery)